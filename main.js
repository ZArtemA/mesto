(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t={formSelector:".popup__textplace",inputSelector:".popup__input",submitButtonSelector:".popup__btn-save",inactiveButtonClass:"popup__btn-save_invalid",inputErrorClass:"popup__input_invalid",errorMessage:"popup__input-error",inputSelectorLink:"popup__link"},n=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._settings=e,this._form=n,this._inputList=Array.from(n.querySelectorAll(e.inputSelector)),this._input=this._form.querySelector(this._settings.inputSelector),this._button=this._form.querySelector(this._settings.submitButtonSelector)}var n,r;return n=t,(r=[{key:"_showInputError",value:function(e){var t=this._form.querySelector(".".concat(this._settings.inputSelectorLink));e.validity.valueMissing?e.setCustomValidity("Вы пропустили это поле."):null==t||t.validity.valid||t.setCustomValidity("Введите адрес сайта.");var n=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add("".concat(this._settings.inputErrorClass)),n.textContent=e.validationMessage,n.classList.add(this._settings.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove("".concat(this._settings.inputErrorClass)),t.classList.remove(this._settings.errorClass),t.textContent=""}},{key:"_validateInput",value:function(e){e.setCustomValidity(""),e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_toggleButtonState",value:function(){this._form.checkValidity()?(this._button.classList.remove(this._settings.inactiveButtonClass),this._button.disabled=!1):(this._button.classList.add(this._settings.inactiveButtonClass),this._button.disabled=!0)}},{key:"enableValidation",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._validateInput(t),e._toggleButtonState()}))})),this._toggleButtonState()}},{key:"resetErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t),e._button.classList.add(e._settings.inactiveButtonClass),e._button.disabled=!0}))}}])&&e(n.prototype,r),t}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){var r=t.data,o=t.handleCardClick,i=t.handleDeleteButtonClick,a=t.handleLikeButtonClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=r.name,this._link=r.link,this._id=r.id,this._user=r.userID,this._likes=r.likesCount,this._cardSelector=n,this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".card__image"),this._cardName=this._element.querySelector(".card__title"),this._likeBtn=this._element.querySelector(".card__btn-like"),this._likeNumber=this._element.querySelector(".card__like-numbers"),this._deleteBtn=this._element.querySelector(".card__btn-delete"),this._handleCardClick=o,this._handleDeleteClick=i,this._handleLikeClick=a}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._cardSelector.content.querySelector(".card__title-image").cloneNode(!0)}},{key:"generateCard",value:function(){return this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardImage.name=this._name,this._likeNumber.textContent=this._likes,this._cardName.textContent=this._name,this._setEventListeners(),this._element}},{key:"getId",value:function(){return this._id}},{key:"deleteCard",value:function(){this._element.remove()}},{key:"buttonCheckLike",value:function(){return this._likeBtn.classList.contains("card__btn-like_active")}},{key:"addLike",value:function(){this._likeNumber.textContent=this._likes+1,this._likeBtn.classList.add("card__btn-like_active")}},{key:"removeLike",value:function(){this._likeNumber.textContent=this._likes+1-1,this._likeBtn.classList.remove("card__btn-like_active")}},{key:"checkUser",value:function(e){this._user!==e.id?this._deleteBtn.classList.add("card__btn-delete_hidden"):this._deleteBtn.classList.remove("card__btn-delete_hidden")}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage.addEventListener("click",this._handleCardClick),this._deleteBtn.addEventListener("click",(function(){e._handleDeleteClick(e)})),this._likeBtn.addEventListener("click",(function(){e._handleLikeClick(e)}))}}])&&r(t.prototype,n),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&i(t.prototype,n),e}(),c=document.querySelector(".page"),u=document.querySelector(".cards__gallery"),s=document.querySelector(".card"),l=document.querySelector("#image"),f=document.querySelector("#edit"),p=document.querySelector("#profile"),h=document.querySelector("#add"),d=document.querySelector("#formedit"),_=document.querySelector("#formadd"),y=document.querySelector("#delete"),v=document.querySelector("#avataredit"),b=c.querySelector(".profile__btn-edit"),m=c.querySelector(".profile__image-place"),g=c.querySelector("#popup-name"),k=c.querySelector("#popup-profession"),S=c.querySelector(".profile__name"),C=c.querySelector(".profile__profession"),w=c.querySelector(".profile__image"),O=c.querySelector(".profile__btn-add");function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"_handleCloseByOverlay",(function(e){e.target===e.currentTarget&&n.close()})),L(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),this._popupSelector=t,this.close=this.close.bind(this),this.open=this.open.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popupSelector.addEventListener("click",this._handleCloseByOverlay)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),this._popupSelector.removeEventListener("click",this._handleCloseByOverlay),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){this._popupSelector.querySelector(".popup__btn-close").addEventListener("click",this.close)}}])&&E(t.prototype,n),e}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return D(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupImage=t._popupSelector.querySelector(".popup__image-big"),t.setEventListeners(),t}return t=a,(n=[{key:"open",value:function(e,t){R(B(a.prototype),"open",this).call(this),this._popupImage.src=e,this._popupImage.alt=t,this._popupSelector.querySelector(".popup__text").textContent=t}}])&&P(t.prototype,n),a}(I);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return J(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popupSelector.querySelector(".popup__textplace"),n._inputs=n._form.querySelectorAll(".popup__input"),n._submitFunction=n._submitFunction.bind(N(n)),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"_submitFunction",value:function(e){e.preventDefault(),this._handleFormSubmit(this._getInputValues())}},{key:"setEventListeners",value:function(){U(V(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._submitFunction)}},{key:"close",value:function(){U(V(a.prototype),"close",this).call(this),this._form.reset(),this._form.removeEventListener("submit",this._submitFunction)}}])&&A(t.prototype,n),a}(I);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return($="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(r);if(o){var n=W(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return K(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleSubmitCallback=r,t._form=t._popupSelector.querySelector(".popup__textplace"),t._submitFunction=t._submitFunction.bind(Q(t)),t.setEventListeners(),t}return t=a,(n=[{key:"setSubmitAction",value:function(e){return this._handleSubmitCallback=e,this._handleSubmitCallback}},{key:"_submitFunction",value:function(e){e.preventDefault(),this._handleSubmitCallback(),this.close()}},{key:"setEventListeners",value:function(){$(W(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._submitFunction)}},{key:"close",value:function(){$(W(a.prototype),"close",this).call(this),this._form.removeEventListener("submit",this._submitFunction)}}])&&H(t.prototype,n),a}(I);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(t){var n=t.address,r=t.token,o=t.groupID;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._address=n,this._token=r,this._groupID=o,this._getResJson=this._getResJson.bind(this)}var t,n;return t=e,(n=[{key:"_getResData",value:function(e){return e.ok?Promise.resolve("done"):Promise.reject(new Error("Ошибка: ".concat(e.status)))}},{key:"_getResJson",value:function(e){return e.ok?e.json():Promise.reject(new Error("Ошибка: ".concat(e.status)))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._address,"/v1/").concat(this._groupID,"/cards"),{headers:{authorization:this._token}}).then((function(t){return e._getResJson(t)}))}},{key:"addCard",value:function(e){var t=this;return fetch("".concat(this._address,"/v1/").concat(this._groupID,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._getResJson(e)}))}},{key:"removeCard",value:function(e){var t=this;return fetch("".concat(this._address,"/v1/").concat(this._groupID,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then((function(e){return t._getResData(e)}))}},{key:"likeCard",value:function(e){var t=this;return fetch("".concat(this._address,"/v1/").concat(this._groupID,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._token}}).then((function(e){return t._getResJson(e)}))}},{key:"deleteLikeCard",value:function(e){var t=this;return fetch("".concat(this._address,"/v1/").concat(this._groupID,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then((function(e){return t._getResData(e)}))}},{key:"getPersonInfo",value:function(){var e=this;return fetch("".concat(this._address,"/v1/").concat(this._groupID,"/users/me"),{headers:{authorization:this._token}}).then((function(t){return e._getResJson(t)}))}},{key:"patchPersonInfo",value:function(e){var t=this;return fetch("".concat(this._address,"/v1/").concat(this._groupID,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._getResJson(e)}))}},{key:"patchAvatar",value:function(e){var t=this;return fetch("".concat(this._address,"/").concat(this._groupID,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return t._getResJson(e)}))}}])&&Y(t.prototype,n),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(t){var n=t.userName,r=t.userInfo,o=t.userAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._info=r,this._avatar=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(e){return{name:e.name,about:e.about,id:e._id,image:e.avatar}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._info.textContent=t}},{key:"setUserAvatar",value:function(e){this._avatar.src=e}}])&&ee(t.prototype,n),e}();function ne(e,t){var n=t.querySelector(".popup__btn-save");n.textContent=e?"Загрузка...":n.value}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce,ue=new Z({address:"https://mesto.nomoreparties.co",token:"f797dee9-663e-4fb3-a082-41f0cffe7621",groupID:"cohort-22"});Promise.all([ue.getPersonInfo(),ue.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ce=de.getUserInfo(o),de.setUserInfo(ce.name,ce.about),de.setUserAvatar(ce.image),se.renderItems(i)})).catch((function(e){console.log(e)}));var se=new a({renderer:function(e){se.addItem(fe(oe(oe({},e),{},{id:e._id,userID:e.owner._id,likesCount:e.likes.length})))}},u),le=new X({popupSelector:y,handleFormSubmit:function(){}}),fe=function(e){var t=new o({data:e,handleDeleteButtonClick:function(e){le.setSubmitAction((function(){ne(!0,y),ue.removeCard(t.getId()).then((function(e){t.deleteCard()})).catch((function(e){return console.log(e)})),ne(!1,y)})),le.setEventListeners(),le.open()},handleCardClick:function(t){he.open(e.link,e.name)},handleLikeButtonClick:function(e){t.buttonCheckLike()?ue.deleteLikeCard(t.getId()).then((function(){t.removeLike()})).catch((function(e){return console.log(e)})):ue.likeCard(t.getId()).then((function(){t.addLike()})).catch((function(e){return console.log(e)}))}},s),n=t.generateCard();return t.checkUser(ce),n},pe=new z(h,(function(e){ne(!0,h),ue.addCard(oe({},e)).then((function(t){se.addItem(fe(oe(oe({},e),{},{id:t._id,userID:t.owner._id,likesCount:t.likes.length}))),pe.close()})).catch((function(e){return console.log(e)})).finally((function(){ne(!1,h)}))}));O.addEventListener("click",(function(){pe.open(),pe.setEventListeners(),ve.resetErrors()}));var he=new T(l),de=new te({userName:S,userInfo:C,userAvatar:w}),_e=new z(f,(function(e){ne(!0,f),e.about=e.info;var t=de.getUserInfo(e),n=t.name,r=t.about;ce.name=n,ce.about=r,ue.patchPersonInfo({name:n,about:r}).then((function(){de.setUserInfo(n,r),_e.close()})).catch((function(e){return console.log(e)})).finally((function(){ne(!1,f)}))}));b.addEventListener("click",(function(){_e.open(),_e.setEventListeners();var e=de.getUserInfo(ce),t=e.name,n=e.about;g.value=t,k.value=n,be.resetErrors()}));var ye=new z(p,(function(e){ne(!0,p),e.avatar=e.link;var t=de.getUserInfo(e).image;ce.image=t,ue.patchAvatar(t).then((function(){de.setUserAvatar(t),ye.close()})).catch((function(e){return console.log(e)})).finally((function(){ne(!1,p)}))}));m.addEventListener("click",(function(){ye.open(),ye.setEventListeners(),me.resetErrors()}));var ve=new n(t,_);ve.enableValidation();var be=new n(t,d);be.enableValidation();var me=new n(t,v);me.enableValidation()})();